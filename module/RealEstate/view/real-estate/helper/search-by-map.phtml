<style>
    .box_search_map { position: relative; width: 960px; height: 561px; margin: auto; display: block; }

    .box_search_map .front_box_search { background: none repeat scroll 0 0 #000000; border-radius: 20px; display: block; height: 100%; left: 0; opacity: 0.6; position: absolute; top: 0; width: 100%; z-index: 99; }

    .box_search_map .ul_search_reg_type {z-index: 9999; background: none repeat scroll 0 0 #ffffff; display: block; height: 65px; position: absolute; right: 254px; top: 220px; width: 430px; }

    .box_search_map .ul_search_reg_type li { display: inline-block; float: right; margin: 10px; }
</style>
<div class="box_search_map">
    <div class="front_box_search"></div>
    <?
    if ($this->estateRegType) {
        ?>
        <ul class="ul_search_reg_type">
            <label><?= t('REALESTATE_REG_TYPE_DESC') ?></label>

            <div style="clear: both"></div>
            <?
            foreach ($this->estateRegType as $row) {
                ?>
                <li>
                    <input type="radio" name="reg_type" value="<?= $row->id ?>"><?= $row->itemName ?>
                </li>
            <?
            }
            ?>
        </ul>
    <?
    }
    ?>
    <img src="<?= $this->basePath() . '/images/search-by-map/map.jpg' ?>" width="960" height="561" usemap="#Map"
         border="0"/>
    <map name="Map" id="Map">
        <area data-id="1" class="map_part" shape="poly"
              coords="845,284,841,310,837,327,836,341,835,355,835,372,835,381,829,399,822,406,818,415,809,419,801,410,796,402,792,394,789,383,783,376,778,372,772,367,769,359,772,350,773,340,767,333,765,329,760,322,761,309,764,301,769,299,765,291,761,292,752,291,748,288,739,277,736,268,731,265,731,259,720,261,713,263,706,265,705,261,703,255,698,255,692,255,696,244,700,239,695,235,685,233,672,228,659,223,648,220,638,217,637,209,638,204,650,202,659,199,669,208,681,208,693,210,702,210,715,210,727,211,741,211,751,216,755,226,758,231,760,235,769,241,779,240,783,241,792,246,797,250,804,254,811,261,818,265,822,270,832,273,841,278,845,286"
              href="#" alt="tabriz map"/>
        <area data-id="3" class="map_part" shape="poly"
              coords="813,421,809,431,807,440,806,447,797,449,787,458,782,464,782,472,775,479,768,483,759,485,744,488,730,491,713,493,700,491,692,485,685,481,679,473,672,467,665,463,656,455,655,446,646,436,642,432,636,428,624,424,619,420,607,415,602,412,596,402,593,395,593,384,591,374,587,369,578,363,576,355,580,350,590,349,604,349,621,348,638,349,645,349,653,346,658,339,668,338,681,343,685,348,693,345,701,347,712,350,716,357,723,360,727,361,747,365,757,366,769,365,773,369,782,379,786,385,793,396,797,403,802,412,808,416,813,421"
              href="#" alt="tabriz map"/>
        <area data-id="2" class="map_part" shape="poly"
              coords="770,366,755,366,747,364,737,363,726,362,722,359,716,354,710,349,699,346,691,346,688,348,682,344,675,339,670,339,662,339,662,336,661,328,658,322,652,320,656,315,654,311,648,307,635,303,627,296,623,284,628,279,634,271,643,261,653,254,665,253,682,256,690,256,693,259,700,264,709,267,717,263,727,261,730,265,734,273,740,280,745,286,752,291,760,293,767,294,761,308,760,316,763,327,766,335,770,342,772,347,769,358,771,364,771,367"
              href="#" alt="tabriz map"/>
        <area data-id="8" class="map_part" shape="poly"
              coords="595,407,578,403,573,398,562,391,557,392,550,396,537,399,521,401,515,395,511,391,500,385,498,385,485,386,473,390,465,390,449,390,440,390,427,384,420,379,411,373,397,371,387,367,377,366,364,366,357,366,345,366,342,369,330,370,321,370,314,377,300,374,292,374,280,375,265,372,252,371,244,374,227,375,219,374,210,370,212,368,200,365,191,361,189,353,196,345,208,338,219,332,230,321,235,315,247,304,267,291,278,294,288,299,303,295,319,289,335,283,351,278,359,285,366,291,373,303,376,310,376,317,384,325,395,321,407,316,423,316,431,317,442,319,453,325,450,334,452,342,465,345,483,345,496,348,515,347,530,348,545,347,560,347,571,351,578,358,580,365,593,373,597,387,594,408"
              href="#" alt="tabriz map"/>
        <area data-id="5" class="map_part" shape="poly"
              coords="659,336,652,347,642,348,623,348,610,347,603,348,585,349,581,350,583,347,581,334,576,323,571,312,563,315,551,315,543,315,535,308,533,300,529,296,515,296,509,298,503,298,499,292,497,279,494,269,493,259,498,251,505,243,509,234,516,236,526,241,542,241,557,243,564,239,569,250,573,255,578,261,586,268,589,278,596,282,603,286,610,288,621,293,629,296,636,308,646,311,654,314,657,320,660,332,658,336"
              href="#" alt="tabriz map"/>
        <area data-id="4" class="map_part" shape="poly"
              coords="703,264,690,256,677,253,659,252,645,260,638,266,628,277,626,286,627,294,618,291,609,288,597,282,591,277,582,267,576,257,568,246,564,239,555,243,547,243,533,243,527,240,515,235,508,227,503,220,490,216,478,214,475,209,475,205,464,197,453,189,440,184,437,179,438,170,433,162,435,150,432,142,430,132,426,121,421,111,421,98,420,91,424,87,433,86,436,79,439,72,448,62,454,51,463,43,474,39,486,46,501,51,505,58,521,69,530,72,538,78,546,92,553,105,559,120,567,131,570,145,575,157,583,173,596,177,606,183,618,190,627,198,636,203,637,212,645,223,655,223,672,227,684,234,697,240,704,259,705,264"
              href="#" alt="tabriz map"/>
        <area data-id="7" class="map_part" shape="poly"
              coords="578,355,564,349,551,347,536,348,521,348,506,348,497,347,480,346,477,346,467,347,455,340,450,333,453,327,447,322,432,318,416,316,401,318,389,326,381,322,377,314,373,307,365,288,356,281,353,277,355,265,356,258,372,250,385,250,408,248,432,246,443,244,443,253,436,262,427,266,425,268,420,277,414,284,414,289,428,282,443,279,458,274,475,273,486,272,495,270,498,282,500,293,504,299,514,298,520,298,532,299,533,311,538,315,548,316,564,315,572,316,579,323,581,340,576,354"
              href="#" alt="tabriz map"/>
        <area data-id="6" class="map_part" shape="poly"
              coords="491,271,472,273,456,274,445,278,435,283,426,286,416,291,419,282,425,277,426,270,434,265,442,258,439,252,442,246,441,239,436,231,432,225,429,217,432,212,436,201,440,192,442,187,453,189,460,195,476,205,477,213,487,217,499,222,512,227,511,234,506,246,494,255,494,264,492,272"
              href="#" alt="tabriz map"/>
        <area data-id="10" class="map_part" shape="poly"
              coords="352,277,338,282,324,288,310,291,298,290,290,295,282,295,272,291,260,296,252,300,244,308,234,314,227,323,216,330,209,338,200,343,194,343,188,336,181,324,183,311,179,300,179,287,188,276,193,263,194,255,195,248,195,233,196,221,201,210,204,195,205,182,209,172,216,169,225,165,229,168,238,168,254,169,267,170,285,174,294,178,309,183,321,188,334,192,345,192,360,200,368,203,374,201,386,205,400,209,414,215,431,220,436,232,441,241,432,245,416,246,398,249,379,252,366,253,355,259,355,266,358,275,352,278"
              href="#" alt="tabriz map"/>
        <area data-id="9" class="map_part" shape="poly"
              coords="430,219,420,216,405,210,387,205,379,205,370,202,362,200,354,195,351,195,337,193,327,190,319,186,320,182,315,185,311,180,302,177,297,176,287,175,275,173,265,173,256,172,243,170,233,168,223,167,216,159,214,150,217,136,219,116,223,105,225,88,229,78,232,64,235,59,235,50,233,39,237,29,241,20,251,16,254,22,259,32,269,43,279,54,289,64,296,71,312,71,325,71,331,70,355,70,372,70,385,74,394,79,403,84,416,91,422,98,424,117,430,134,434,147,437,159,434,170,438,184,440,187,437,201,430,221"
              href="#" alt="tabriz map"/>
    </map>
</div>
<script>
    $(document).ready(function () {
        var estate_reg_type = 0;
        if ($('.ul_search_reg_type')) {
            $('.ul_search_reg_type li input').click(function () {
                estate_reg_type = $(this).val();
                if (!$('.box_search_map').hasClass('active_map')) {
                    $('.ul_search_reg_type').animate({ opacity: '0' });
                    $('.ul_search_reg_type').delay(200).show().animate({ top: 495, opacity: '1' }, {duration: 1000, easing: 'easeOutBounce'});
                    $('.front_box_search').fadeOut(500).delay(200).hide();
                    $('.box_search_map').addClass('active_map');
                }
            })
        }

        $('.map_part').click(function(){
            var data={};
            data['regType'] = estate_reg_type;
            data['areaId'] = $(this).data('id');
            //route set shavad

        })
    });
</script>